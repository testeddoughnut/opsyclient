{"info":{"description":"It's Opsy!","title":"opsy","version":"v1"},"paths":{"/api/v1/login/":{"get":{"tags":["login"],"summary":"Get auth token.","parameters":[],"security":[{"api_key":[]}],"operationId":"show_login","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/UserToken"}}}},"post":{"tags":["login"],"summary":"Login.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/UserLogin"}}],"operationId":"create_login","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/UserToken"}}}},"delete":{"tags":["login"],"summary":"Logout.","parameters":[],"security":[{"api_key":[]}],"operationId":"delete_login","description":"","responses":{"205":{"description":"","schema":{"$ref":"#/definitions/Empty"}}}}},"/api/v1/zones/":{"get":{"tags":["zones"],"summary":"List zones.","parameters":[{"in":"query","name":"id","required":false,"type":"string","maxLength":36,"description":"The unique UUID of the zone."},{"in":"query","name":"name","required":false,"type":"string","maxLength":128,"description":"The unique name of the zone."},{"in":"query","name":"description","required":false,"type":"string","maxLength":128,"description":"The description of the zone."}],"security":[{"api_key":[]}],"operationId":"list_zones","description":"","responses":{"200":{"description":"","schema":{"type":"array","items":{"$ref":"#/definitions/Zone"}}}}},"post":{"tags":["zones"],"summary":"Create a new zone.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/Zone"}}],"security":[{"api_key":[]}],"operationId":"create_zone","description":"","responses":{"201":{"description":"","schema":{"$ref":"#/definitions/Zone"}}}}},"/api/v1/zones/{id_or_name}":{"get":{"tags":["zones"],"summary":"Show a zone.","parameters":[{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"show_zone","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Zone"}}}},"patch":{"tags":["zones"],"summary":"Update a zone.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/Zone"}},{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"update_zone","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Zone"}}}},"delete":{"tags":["zones"],"summary":"Delete a zone.","parameters":[{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"delete_zone","description":"","responses":{"204":{"description":"","schema":{"$ref":"#/definitions/Empty"}}}}},"/api/v1/hosts/":{"get":{"tags":["hosts"],"summary":"List hosts.","parameters":[{"in":"query","name":"id","required":false,"type":"string","maxLength":36},{"in":"query","name":"zone_id","required":false,"type":"string","maxLength":36},{"in":"query","name":"zone_name","required":false,"type":"string"},{"in":"query","name":"group_id","required":false,"type":"string"},{"in":"query","name":"group_name","required":false,"type":"string"},{"in":"query","name":"name","required":false,"type":"string","maxLength":128}],"security":[{"api_key":[]}],"operationId":"list_hosts","description":"","responses":{"200":{"description":"","schema":{"type":"array","items":{"$ref":"#/definitions/Host"}}}}},"post":{"tags":["hosts"],"summary":"Create a new host.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/Host"}}],"security":[{"api_key":[]}],"operationId":"create_host","description":"","responses":{"201":{"description":"","schema":{"$ref":"#/definitions/Host"}}}}},"/api/v1/hosts/{id_or_name}":{"get":{"tags":["hosts"],"summary":"Show a host.","parameters":[{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"show_host","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Host"}}}},"patch":{"tags":["hosts"],"summary":"Update a host.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/Host"}},{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"update_host","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Host"}}}},"delete":{"tags":["hosts"],"summary":"Delete a host.","parameters":[{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"delete_host","description":"","responses":{"204":{"description":"","schema":{"$ref":"#/definitions/Empty"}}}}},"/api/v1/hosts/{id_or_name}/group_mappings/":{"get":{"tags":["hosts"],"summary":"List group mappings.","parameters":[{"in":"query","name":"id","required":false,"type":"string","maxLength":36},{"in":"query","name":"group_id","required":false,"type":"string"},{"in":"query","name":"group_name","required":false,"type":"string"},{"in":"query","name":"priority","required":false,"type":"integer","format":"int32","x-nullable":true},{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"list_group_mappings","description":"","responses":{"200":{"description":"","schema":{"type":"array","items":{"$ref":"#/definitions/HostGroupMapping"}}}}},"post":{"tags":["hosts"],"summary":"Create a group mapping.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/HostGroupMapping"}},{"in":"path","name":"id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"create_group_mapping","description":"","responses":{"201":{"description":"","schema":{"$ref":"#/definitions/HostGroupMapping"}}}}},"/api/v1/hosts/{id_or_name}/group_mappings/{group_id_or_name}":{"get":{"tags":["hosts"],"summary":"Show a group mapping.","parameters":[{"in":"path","name":"id_or_name","required":true,"type":"string"},{"in":"path","name":"group_id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"show_group_mapping","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/HostGroupMapping"}}}},"patch":{"tags":["hosts"],"summary":"Update a group mapping.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/HostGroupMapping"}},{"in":"path","name":"id_or_name","required":true,"type":"string"},{"in":"path","name":"group_id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"update_group_mapping","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/HostGroupMapping"}}}},"delete":{"tags":["hosts"],"summary":"Delete a group mapping.","parameters":[{"in":"path","name":"id_or_name","required":true,"type":"string"},{"in":"path","name":"group_id_or_name","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"delete_group_mapping","description":"","responses":{"204":{"description":"","schema":{"$ref":"#/definitions/Empty"}}}}},"/api/v1/groups/":{"get":{"tags":["groups"],"summary":"List groups.","parameters":[{"in":"query","name":"id","required":false,"type":"string","maxLength":36},{"in":"query","name":"name","required":false,"type":"string","maxLength":128},{"in":"query","name":"zone_id","required":false,"type":"string","x-nullable":true,"maxLength":36},{"in":"query","name":"parent_id","required":false,"type":"string","x-nullable":true,"maxLength":36},{"in":"query","name":"parent_name","required":false,"type":"string"},{"in":"query","name":"host_id","required":false,"type":"string"},{"in":"query","name":"host_name","required":false,"type":"string"},{"in":"query","name":"default_priority","required":false,"type":"integer","format":"int32","x-nullable":true}],"security":[{"api_key":[]}],"operationId":"list_groups","description":"","responses":{"200":{"description":"","schema":{"type":"array","items":{"$ref":"#/definitions/Group"}}}}},"post":{"tags":["groups"],"summary":"Create a group.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/Group"}}],"security":[{"api_key":[]}],"operationId":"create_group","description":"","responses":{"201":{"description":"","schema":{"$ref":"#/definitions/Group"}}}}},"/api/v1/groups/{group_id}":{"get":{"tags":["groups"],"summary":"Show a group.","parameters":[{"in":"path","name":"group_id","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"show_group","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Group"}}}},"patch":{"tags":["groups"],"summary":"Update a group.","parameters":[{"in":"body","required":false,"name":"body","schema":{"$ref":"#/definitions/Group"}},{"in":"path","name":"group_id","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"update_group","description":"","responses":{"200":{"description":"","schema":{"$ref":"#/definitions/Group"}}}},"delete":{"tags":["groups"],"summary":"Delete a group.","parameters":[{"in":"path","name":"group_id","required":true,"type":"string"}],"security":[{"api_key":[]}],"operationId":"delete_group","description":"","responses":{"204":{"description":"","schema":{"$ref":"#/definitions/Empty"}}}}}},"tags":[{"name":"login","description":"Endpoints for logging in and out of Opsy."},{"name":"zones","description":"Zones are the base grouping for inventory in Opsy."},{"name":"hosts","description":"Hosts are your servers."},{"name":"groups","description":"Groups are logical groupings of your hosts."}],"swagger":"2.0","definitions":{"UserToken":{"type":"object","properties":{"user_id":{"type":"string","readOnly":true,"maxLength":36},"user_name":{"type":"string","maxLength":128},"token":{"type":"string","readOnly":true,"x-nullable":true,"maxLength":255},"expires_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true}},"required":["user_name"]},"UserLogin":{"type":"object","properties":{"password":{"type":"string"},"remember_me":{"type":"boolean","default":false},"user_name":{"type":"string"}},"required":["password","user_name"]},"Empty":{"type":"object","properties":{}},"Zone":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36,"description":"The ID of the zone."},"name":{"type":"string","maxLength":128,"description":"The name of the zone."},"description":{"type":"string","x-nullable":true},"vars":{"type":"object","x-nullable":true},"created_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"updated_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"_links":{"type":"object","readOnly":true}},"required":["name"]},"ZoneRef":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36,"description":"The ID of the zone."},"name":{"type":"string","maxLength":128,"description":"The name of the zone."},"_links":{"type":"object","readOnly":true}},"required":["name"]},"HostGroupMappingRef":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36},"host_id":{"type":"string","readOnly":true,"maxLength":36},"host_name":{"type":"string"},"group_id":{"type":"string"},"group_name":{"type":"string"},"priority":{"type":"integer","format":"int32","x-nullable":true},"_links":{"type":"object","readOnly":true}},"required":["host_id"]},"Host":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36},"zone_id":{"type":"string","maxLength":36},"name":{"type":"string","maxLength":128},"vars":{"type":"object","x-nullable":true},"compiled_vars":{"type":"object","readOnly":true},"zone":{"readOnly":true,"allOf":[{"$ref":"#/definitions/ZoneRef"}]},"group_mappings":{"readOnly":true,"type":"array","items":{"$ref":"#/definitions/HostGroupMappingRef"}},"created_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"updated_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"_links":{"type":"object","readOnly":true}},"required":["name","zone_id"]},"HostRef":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36},"name":{"type":"string","maxLength":128},"_links":{"type":"object","readOnly":true}},"required":["name"]},"GroupRef":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36},"name":{"type":"string","maxLength":128},"_links":{"type":"object","readOnly":true}},"required":["name"]},"HostGroupMapping":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36},"host_id":{"type":"string","readOnly":true,"maxLength":36},"group_id":{"type":"string"},"priority":{"type":"integer","format":"int32","x-nullable":true},"host":{"readOnly":true,"allOf":[{"$ref":"#/definitions/HostRef"}]},"group":{"readOnly":true,"allOf":[{"$ref":"#/definitions/GroupRef"}]},"created_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"updated_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"_links":{"type":"object","readOnly":true}},"required":["host_id"]},"Group":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"maxLength":36},"zone_id":{"type":"string","x-nullable":true,"maxLength":36},"parent_id":{"type":"string","x-nullable":true,"maxLength":36},"name":{"type":"string","maxLength":128},"default_priority":{"type":"integer","format":"int32","x-nullable":true},"vars":{"type":"object","x-nullable":true},"compiled_vars":{"type":"object","readOnly":true},"created_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"updated_at":{"type":"string","format":"date-time","readOnly":true,"x-nullable":true},"_links":{"type":"object","readOnly":true}},"required":["name"]}},"securityDefinitions":{"api_key":{"type":"apiKey","in":"header","name":"X-AUTH-TOKEN"}}}
